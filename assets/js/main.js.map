{"version":3,"sources":["utilities.js","libraries.js","main.js"],"names":["utils","notif","message","type","arguments","length","undefined","settings","options","$","notifyClose","icon","notify","_objectSpread","getSlug","text","toLowerCase","replace","dbg","a","c","DEV","console","info","concat","log","prop","split","tooltip","selector","html","fn","notifyDefaults","placement","from","animate","enter","exit","document","addEventListener","ELM","body","getElementsByTagName","search","getElementById","result_loading","result_summary","result_table","result_table_body","mfd","slided","mrk","Mark","request","XMLHttpRequest","open","onload","res","this","response","status","startsWith","forEach","_a$split2","_slicedToArray","full_id","name","id","parent_id","substr","push","style","display","className","focus","setTimeout","innerHTML","keyword","keys","filter","findById","test","i","nameLowerCase","toLocaleLowerCase","every","k","includes","children","classList","remove","add","mark","value","level","slideDown","map","lv","0","2","4","7","_ref","join","target","matches","contains","querySelectorAll"],"mappings":"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","file":"main.js","sourcesContent":["const utils = (function () {\r\n\r\n\tconst notif = (message, type = 'info', close = false, settings, options) => {\r\n\t\tif (close) $.notifyClose();\r\n\t\tlet icon = 'icon-info';\r\n\t\tif (type === 'wait') { icon = 'icon-hourglass'; type = 'info'; }\r\n\t\tif (type === 'success') { icon = 'icon-check'; }\r\n\t\tif (type === 'danger' || type === 'warning') { icon = 'icon-exclamation'; }\r\n\t\t$.notify({ message, icon, ...options }, { type, ...settings });\r\n\t}\r\n\r\n\tconst getSlug = text => text.toLowerCase().replace(/[^\\w ]+/g, '').replace(/ +/g, '-');\r\n\r\n\treturn {\r\n\t\tnotif,\r\n\t\tgetSlug,\r\n\t}\r\n\r\n})();\r\n\r\n\r\n\r\nconst dbg = (a = '!', c = 0) => {\r\n\tif (typeof DEV !== 'undefined') {\r\n\t\tif (DEV) console.info('%c' + a, `color: ${typeof c === 'number' ? ['#00ff7f', '#6495ed', '#ff0', '#fa8072', '#ffa500', '#f00'][c] : c}`);\r\n\t}\r\n}\r\n\r\n\r\n\r\n$(() => {\r\n\r\n\tconsole.log('Â© Muhammad Afifudin, 2020');\r\n\tconsole.log('%cVersion: ' + $('script[src*=\"assets/js\"]').prop('src').split('?v=')[1], 'color: #6495ed');\r\n\r\n\t$('body').tooltip({ selector: '[data-toggle=\"tooltip\"]', html: true });\r\n\r\n});\r\n","if ($.fn.notifyDefaults) {\r\n\t$.notifyDefaults({\r\n\t\tplacement: { from: 'bottom' },\r\n\t\tanimate: { enter: 'animated fadeInUp', exit: 'animated fadeOutDown' },\r\n\t});\r\n}\r\n","document.addEventListener('DOMContentLoaded', function () {\r\n\r\n\tconst ELM = {\r\n\t\tbody: document.getElementsByTagName('body')[0],\r\n\t\tsearch: document.getElementById('search'),\r\n\t\tresult_loading: document.getElementById('result-loading'),\r\n\t\tresult_summary: document.getElementById('result-summary'),\r\n\t\tresult_table: document.getElementById('result-table'),\r\n\t\tresult_table_body: document.getElementById('result-table-body'),\r\n\t}\r\n\r\n\tvar mfd = [],\r\n\t\tslided = false,\r\n\t\tsetting = {\r\n\t\t\tlevel: [0, 1, 2, 3],\r\n\t\t\tprov: null,\r\n\t\t},\r\n\t\tmrk = new Mark(ELM.result_table_body);\r\n\r\n\t{\r\n\t\tlet request = new XMLHttpRequest();\r\n\t\trequest.open('GET', 'assets/csv/mfd.csv', true);\r\n\t\trequest.onload = function () {\r\n\t\t\tlet { response: res, status } = this;\r\n\t\t\tif (status >= 200 && status < 400 && res.startsWith('11,')) {\r\n\t\t\t\tres.split('\\n').forEach(a => {\r\n\t\t\t\t\tlet [full_id, name] = a.split(','),\r\n\t\t\t\t\t\tid = '',\r\n\t\t\t\t\t\tparent_id = '';\r\n\t\t\t\t\tif (full_id.length === 2) { id = full_id; parent_id = ''; }\r\n\t\t\t\t\telse if (full_id.length === 4) { id = full_id.substr(2, 2); parent_id = full_id.substr(0, 2); }\r\n\t\t\t\t\telse if (full_id.length === 7) { id = full_id.substr(4, 3); parent_id = full_id.substr(0, 4); }\r\n\t\t\t\t\telse if (full_id.length === 10) { id = full_id.substr(7, 3); parent_id = full_id.substr(0, 7); }\r\n\t\t\t\t\telse return false;\r\n\t\t\t\t\tmfd.push({ id, parent_id, name });\r\n\t\t\t\t\tdocument.getElementById('loading').style.display = 'none';\r\n\t\t\t\t\tdocument.getElementById('search-form-wrapper-outer').className = 'search-form-wrapper-outer animated animated-1s bounceIn';\r\n\t\t\t\t\tdocument.getElementById('explore-wrapper').className = 'explore-wrapper animated animated-1s bounceInUp';\r\n\t\t\t\t\tELM.search.focus();\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tdocument.getElementById('loading').innerHTML = '<div class=\"animated animated-1s swing delay-1s\"><i class=\"icon-exclamation mr-35\"></i>Terjadi kesalahan :(</div>';\r\n\t\t\t\tsetTimeout(() => { document.getElementsByTagName('header')[0].className = 'bg-danger-gradient pb-6'; }, 1000);\r\n\t\t\t}\r\n\t\t};\r\n\t\trequest.onerror = function () {\r\n\t\t\tdocument.getElementById('loading').innerHTML = '<div class=\"animated animated-1s swing delay-1s\"><i class=\"icon-exclamation mr-35\"></i>Terjadi kesalahan :(</div>';\r\n\t\t\tsetTimeout(() => { document.getElementsByTagName('header')[0].className = 'bg-danger-gradient pb-6'; }, 1000);\r\n\t\t};\r\n\t\trequest.send();\r\n\t}\r\n\r\n\t// Search\r\n\tELM.search.addEventListener('keypress', function (e) { if (e.which === 13) search(ELM.search.value); }, false);\r\n\tdocument.getElementById('search-btn').addEventListener('click', function () { search(ELM.search.value); }, false);\r\n\tconst search = keyword => {\r\n\t\tlet keys = [...new Set(keyword.trim().toLowerCase().split(/[\\s,]+/))].filter(a => a.length);\r\n\t\tdbg('Search: ' + keyword);\r\n\t\tconsole.info(keys);\r\n\t\tif (keys.filter(a => a.length > 2).length || keys.filter(a => a.length > 1).length > 1 || keys.length > 3) {\r\n\t\t\tdbg('Keyword valid :)', 1);\r\n\t\t\tlet findById = keys.length === 1 && /^\\d{4,10}$/.test(keys[0]);\r\n\t\t\tif (slided) {\r\n\t\t\t\tELM.result_table.style.display = 'none';\r\n\t\t\t\tELM.result_loading.style.display = '';\r\n\t\t\t\tmrk.unmark();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tmfd.forEach((a, i) => {\r\n\t\t\t\t\t\tlet nameLowerCase = a.name.toLocaleLowerCase();\r\n\t\t\t\t\t\tif (keys.every(k => nameLowerCase.includes(k))) {\r\n\t\t\t\t\t\t\tELM.result_table_body.children[i].classList.remove('d-none');\r\n\t\t\t\t\t\t\tELM.result_table_body.children[i].style.display = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (findById && keys[0] === a.id) {\r\n\t\t\t\t\t\t\tELM.result_table_body.children[i].classList.remove('d-none');\r\n\t\t\t\t\t\t\tELM.result_table_body.children[i].style.display = '';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tELM.result_table_body.children[i].classList.add('d-none');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tELM.result_loading.style.display = 'none';\r\n\t\t\t\t\tELM.result_table.style.display = '';\r\n\t\t\t\t}, 100);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Generate DOM: all but not all displayed\r\n\t\t\t}\r\n\t\t\tkeys.forEach(a => mrk.mark(a));\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//\r\n\t\t\t// Error message\r\n\t\t\t//\r\n\t\t}\r\n\t}\r\n\r\n\t// Explore\r\n\tdocument.getElementById('explore-btn').addEventListener('click', function () {\r\n\t\tELM.search.value = '';\r\n\t\tif (slided) {\r\n\t\t\tELM.result_table.style.display = 'none';\r\n\t\t\tELM.result_loading.style.display = '';\r\n\t\t\tmrk.unmark();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tfor (let a of ELM.result_table_body.children) {\r\n\t\t\t\t\tif (a.classList.contains('lv-0')) {\r\n\t\t\t\t\t\ta.classList.remove('toggle-expanded', 'd-none');\r\n\t\t\t\t\t\ta.style.display = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ta.classList.remove('toggle-expanded', 'd-none');\r\n\t\t\t\t\t\ta.style.display = 'none';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tELM.result_loading.style.display = 'none';\r\n\t\t\t\tELM.result_table.style.display = '';\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tELM.body.classList.add('search-active');\r\n\t\t\t$('#result').slideDown();\r\n\t\t\tslided = true;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tlet html_tr = ({ id, parent_id, name }, lv) => `\r\n\t\t\t\t\t<tr ${lv === 0 ? 'class=\"lv-0 toggle\"' : (lv === 3 ? 'class=\"lv-3\" style=\"display:none\"' : `class=\"lv-${lv} toggle\" style=\"display:none\"`)} data-id=\"${parent_id + id}\" data-parent-id=\"${parent_id}\">\r\n\t\t\t\t\t\t<td>${parent_id}<b>${id}</b></td>\r\n\t\t\t\t\t\t<td>${name}</td>\r\n\t\t\t\t\t</tr>`;\r\n\t\t\t\tELM.result_table_body.innerHTML = mfd.map(a => html_tr(a, ({ 0: 0, 2: 1, 4: 2, 7: 3 })[a.parent_id.length])).join('');\r\n\t\t\t\tELM.result_loading.style.display = 'none';\r\n\t\t\t\tELM.result_table.style.display = '';\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t}, false);\r\n\r\n\t// Toggle\r\n\tELM.result_table_body.addEventListener('click', function (e) {\r\n\t\tfor (var target = e.target; target && target != this; target = target.parentNode) {\r\n\t\t\tif (target.matches('tr')) {\r\n\t\t\t\tlet id = target.dataset.id;\r\n\t\t\t\ttarget.classList.toggle('toggle-expanded');\r\n\t\t\t\tif (target.classList.contains('toggle-expanded')) document.querySelectorAll(`[data-parent-id=\"${id}\"]`).forEach(a => { a.style.display = ''; });\r\n\t\t\t\telse document.querySelectorAll(`[data-parent-id^=\"${id}\"]`).forEach(a => { a.classList.remove('toggle-expanded'); a.style.display = 'none'; });\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}, false);\r\n\r\n});"]}